<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Livro 3</title>
    <style>
        body{
            background:#181818;
            color:#f2f2f2;
        }
        p {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
        }
    </style>
</head>
<body>
    <p>local</p>

</body>
<script>
    //Function Construction, primeira letra em maiusculo para identificar que é construtor
    //page 92

    var Carro = function(nome,cor,marca,ano,price){
        this.nome = nome;
        this.cor = cor;
        this.marca = marca;
        this.ano = ano;
        this.price = price;
    };

    var fusca = new Carro('Fusca', 'Azul', 'VW', '1975', 1500);
    console.log(fusca);
    var gol = new Carro('GOL', 'prata', 'VW', '2003', '1400');
    console.log(gol);

//calcular insencao IPVA

var Carro2 = function(nome,cor,marca,ano,price){
        this.nome = nome;
        this.cor = cor;
        this.marca = marca;
        this.ano = ano;
        this.price = price;
    };

Carro2.prototype.calcIsencaoIPVA = function() {
    var anoAtual = new Date().getFullYear() - this.ano;
    if(anoAtual >= 30){
    console.log('O carro '+this.nome+' possui isenção de IPVA.');
    } else {
    console.log('O carro '+ this.nome+' não possui insenção de IPVA.');
    }
};

var onix = new Carro2('Onix', 'Bege', 'Chevrolet', 2014,2500);
console.log(onix);
onix.calcIsencaoIPVA();


var mer = new Map();
mer.set('Lista','content goes here');
x = mer.get('Lista');

console.log(x);


//função de primeira classe  - First-class function
//page 107
var arr_ano_cars = [1965,1992,1997,1975,1981];

//function callback
function calctempo(anoCarro){
    var date = new Date();
    return date.getFullYear() - anoCarro;
}

function anoDosCarros(ano, funcao){
    var arrTempoCarros = [];

    for(var i = 0; i < ano.length; i++){
        arrTempoCarros.push(funcao(ano[i]))
    }
    return arrTempoCarros;
}

var arrCarros = anoDosCarros(arr_ano_cars,calctempo);

console.log(arrCarros)



</script>
</html>