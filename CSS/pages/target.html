<!DOCTYPE html>
<html lang="en" style="color-scheme: dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>:target</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        color-scheme: dark;
      }
      html {
        scroll-behavior: smooth;
      }

      body {
        max-width: 50rem;
        margin: 0 auto;
        padding: 5vh;
      }

      nav {
        position: fixed;
        top: 0;
        height: 50px;
      }

      a {
        margin: 0 20px;
        font-size: 2rem;
      }
      a[href*='#a']:focus {
        color: red;
      }

      nav a:active {
        color: seagreen;
      }

      /* target props */
      :target {
        color: pink;
        font-size: 1rem;
        scroll-margin-top: 50px;
        text-decoration: underline;
        width: 100%;
      }

      /* ou especificar a cor de cada target */
      #c:target {
        color: aqua;
      }

      section {
        min-height: calc(10vh);
      }

      .active {
        color: red;
      }
    </style>
  </head>
  <body>
    <nav>
      <a href="#home">Home</a>
      <a href="#a">A</a>
      <a href="#b">B</a>
      <a href="#c">C</a>
    </nav>

    <section id="home">
      <h1>home Page</h1>
    </section>
    <section id="a">
      <h1>
        A Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis
        dignissimos vero ut reiciendis illo iusto ad rerum quidem, labore error
      </h1>
    </section>
    <section id="b">
      <h1>
        A Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis
        dignissimos vero ut reiciendis illo iusto ad rerum quidem, labore error
      </h1>
    </section>
    <section id="c">
      <h1>
        C Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis
        dignissimos vero ut reiciendis illo iusto ad rerum quidem, labore error
      </h1>
    </section>
    <script>
      /* Conclus√£o como o :focus ocorren quando o item foi clicado, contudo quando atribuidos um ID o mesmo receber e perde o focus ao mesmo tempo, uma alternativa de manter uma customClass foi adicionar JavaScript */
      const links = document.querySelectorAll('nav a')
      for (let link of links) {
        link.addEventListener('click', handler)
      }
      // compara se contains o currentTarget
      function handler(e) {
        // get event
        let event = e.currentTarget
        for (let iten of links) {
          let atual = iten.contains(event)
          if (atual) {
            iten.classList.add('active')
          } else {
            iten.classList.remove('active')
          }
        }
      }
    </script>
  </body>
</html>
